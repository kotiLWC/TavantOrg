<apex:page controller="ActionSupportAPX"   tabStyle="Contact" lightningStylesheets="true" >
    <script type='text/javascript'>
    function Find()
    {
        var recedit = document.getElementById('j_id0:myform:Pb:pbs:pbsi:txt').value;
        
        //   alert(recedit);
        RelatedRecords(recedit);
        
    }
    
    function selectedrec()
    {
        alert("sample data");
    }
    
    
    function closethis()
    {
        //addtolistcontact();
        //window.parent.close();
        //  return false;
    }
    
    
    
    </script>
    
    
    <apex:form id="myform">
        <apex:pageBlock id="Pb" >
            
            <apex:pageblockSection id="pbs" columns="1">
                <apex:pageBlockSectionItem id="pbsi">
                    <apex:outputLabel value="Contact Name" />
                    <apex:InputText value="{!acc.name}"  styleclass="slds-input" id="txt" onkeyup="Find();" />
                    
                </apex:pageBlockSectionItem>                      
            </apex:pageblockSection>
            
        </apex:pageBlock>
        <apex:actionFunction name="RelatedRecords"  action="{!searchAcc}" reRender="results1,results2">
            <!--<apex:actionsupport event="onchange" action="{!searchAcc}" rerender="results1,results2" oncomplete="RelatedRecords">--> 
            <apex:param value="" assignTo="{!searchVal}" name="ParamName"/>      
        </apex:actionFunction>
        <!-- </apex:actionsupport>  --> 
        <apex:outputPanel id="results1">
            <apex:outputPanel id="st" rendered="{!showhide}">
                <h1>No Records Found </h1> 
            </apex:outputPanel>
            
            <!-- <apex:outputPanel id="results3"> -->
            <!-- <apex:pageBlock id="details" rendered="{! IF( profilelst!= null && profilelst.size >0, true, false)}" > -->
            <apex:pageBlock id="details" rendered="{!IF(searchVal !=null , true, false)}">
                <apex:outputPanel id="results2" rendered="{!IF(searchVal !=null , true, false)}">
                    
                    <apex:pageBlockTable value="{!profilelst}" var="a" id="pbt" rendered="{!IF(profilelst.size > 0 , true, false)}">
                        
                        <apex:column >
                            <apex:outputPanel >
                                <apex:inputCheckbox >
                                    <apex:actionSupport event="onclick" action="{!doSelectContact}" rerender="op" immediate="true">
                                        <apex:param name="contactId" value="{!a.id}" assignTo="{!contactId}" />
                                    </apex:actionSupport>
                                </apex:inputCheckbox>
                                {!a.name}
                            </apex:outputPanel> 
                        </apex:column>
                        
                    </apex:pageBlockTable>
                    
                </apex:outputPanel>
            </apex:pageBlock>
            
            <!-- </apex:outputPanel> -->
        </apex:outputPanel>
        
        <apex:outputPanel id="op">
            <apex:pageblock id="counterStatus">
                <apex:pageblockTable value="{!selectedlist}" var="sel">
                    <apex:column value="{!sel.Name}"/>
                    
                </apex:pageblockTable> 
                
            </apex:pageblock>
        </apex:outputPanel> 
        
    </apex:form>
</apex:page>